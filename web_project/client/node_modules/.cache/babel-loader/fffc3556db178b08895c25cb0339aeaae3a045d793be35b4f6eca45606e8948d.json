{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{getOrdersByUser}from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){const navigate=useNavigate();const[OrderTables,setOrderTables]=useState([]);const[error,setError]=useState(null);const currentUser=localStorage.getItem('currentUser');console.log(currentUser);const goToHome=()=>{navigate('/');// Путь к домашней странице\n};const goToCart=()=>{navigate('/cart');// Путь к странице корзины\n};useEffect(()=>{const fetchOrderTables=async currentUser=>{try{const OrderTablesData=await getOrdersByUser(currentUser);setOrderTables(OrderTablesData);}catch(err){setError(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(err.message));}};fetchOrderTables();},[currentUser]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \",localStorage.getItem('currentUser')]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"buttons-profile\",children:/*#__PURE__*/_jsx(\"button\",{onClick:goToCart,children:\"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043A\\u0430\\u0437\"})}),error?/*#__PURE__*/_jsx(\"p\",{children:error}):/*#__PURE__*/_jsx(\"ul\",{children:OrderTables.map(order=>/*#__PURE__*/_jsxs(\"li\",{children:[order.orderid,\",\",order.orderdate,\", \",order.orderstatus]},order.orderid))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"thq-navbar-nav\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\xA9 \\u0417\\u0434\\u043E\\u0440\\u043E\\u0432\\u044C\\u0435 \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0435 \"}),/*#__PURE__*/_jsx(\"button\",{className:\"back\",onClick:goToHome,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","getOrdersByUser","jsx","_jsx","jsxs","_jsxs","Profile","navigate","OrderTables","setOrderTables","error","setError","currentUser","localStorage","getItem","console","log","goToHome","goToCart","fetchOrderTables","OrderTablesData","err","concat","message","children","className","onClick","map","order","orderid","orderdate","orderstatus"],"sources":["C:/Users/teply/OneDrive/Рабочий стол/web_project/client/src/components/pages/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getOrdersByUser } from './api'; \r\n\r\nexport default function Profile() {\r\n  const navigate = useNavigate();\r\n  const [OrderTables, setOrderTables] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const currentUser = localStorage.getItem('currentUser');\r\n  console.log(currentUser);\r\n\r\n  const goToHome = () => {\r\n    navigate('/'); // Путь к домашней странице\r\n  };\r\n\r\n  const goToCart = () => {\r\n    navigate('/cart'); // Путь к странице корзины\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchOrderTables = async (currentUser) => {\r\n      try {\r\n        const OrderTablesData = await getOrdersByUser(currentUser);\r\n        setOrderTables(OrderTablesData);\r\n      } catch (err) {\r\n        setError(`Ошибка: ${err.message}`);\r\n      }\r\n    };\r\n    fetchOrderTables();\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <div>\r\n      <h1 className='heading'>Профиль пользователя</h1>\r\n      <h2>Имя пользователя: {localStorage.getItem('currentUser')}</h2>\r\n      <div className='container'>\r\n        <div className=\"buttons-profile\">\r\n          <button onClick={goToCart}>\r\n            Новый заказ\r\n          </button>\r\n        </div>\r\n        {error ? ( <p>{error}</p>) : (\r\n          <ul>\r\n            {OrderTables.map(order => (\r\n              <li key={order.orderid}>{order.orderid},{order.orderdate}, {order.orderstatus}</li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n      <div className=\"navbar\">\r\n        <div className=\"thq-navbar-nav\">\r\n          <span>© Здоровье в корзине </span>\r\n          <button className='back' onClick={goToHome}>\r\n            Выйти\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,eAAe,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAChC,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAa,WAAW,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CACvDC,OAAO,CAACC,GAAG,CAACJ,WAAW,CAAC,CAExB,KAAM,CAAAK,QAAQ,CAAGA,CAAA,GAAM,CACrBV,QAAQ,CAAC,GAAG,CAAC,CAAE;AACjB,CAAC,CAED,KAAM,CAAAW,QAAQ,CAAGA,CAAA,GAAM,CACrBX,QAAQ,CAAC,OAAO,CAAC,CAAE;AACrB,CAAC,CAEDT,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqB,gBAAgB,CAAG,KAAO,CAAAP,WAAW,EAAK,CAC9C,GAAI,CACF,KAAM,CAAAQ,eAAe,CAAG,KAAM,CAAAnB,eAAe,CAACW,WAAW,CAAC,CAC1DH,cAAc,CAACW,eAAe,CAAC,CACjC,CAAE,MAAOC,GAAG,CAAE,CACZV,QAAQ,0CAAAW,MAAA,CAAYD,GAAG,CAACE,OAAO,CAAE,CAAC,CACpC,CACF,CAAC,CACDJ,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACP,WAAW,CAAC,CAAC,CAEjB,mBACEP,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAIsB,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAC,qHAAoB,CAAI,CAAC,cACjDnB,KAAA,OAAAmB,QAAA,EAAI,+FAAkB,CAACX,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,EAAK,CAAC,cAChET,KAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBrB,IAAA,QAAKsB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAC9BrB,IAAA,WAAQuB,OAAO,CAAER,QAAS,CAAAM,QAAA,CAAC,+DAE3B,CAAQ,CAAC,CACN,CAAC,CACLd,KAAK,cAAKP,IAAA,MAAAqB,QAAA,CAAId,KAAK,CAAI,CAAC,cACvBP,IAAA,OAAAqB,QAAA,CACGhB,WAAW,CAACmB,GAAG,CAACC,KAAK,eACpBvB,KAAA,OAAAmB,QAAA,EAAyBI,KAAK,CAACC,OAAO,CAAC,GAAC,CAACD,KAAK,CAACE,SAAS,CAAC,IAAE,CAACF,KAAK,CAACG,WAAW,GAApEH,KAAK,CAACC,OAAmE,CACnF,CAAC,CACA,CACL,EACE,CAAC,cACN1B,IAAA,QAAKsB,SAAS,CAAC,QAAQ,CAAAD,QAAA,cACrBnB,KAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BrB,IAAA,SAAAqB,QAAA,CAAM,0GAAqB,CAAM,CAAC,cAClCrB,IAAA,WAAQsB,SAAS,CAAC,MAAM,CAACC,OAAO,CAAET,QAAS,CAAAO,QAAA,CAAC,gCAE5C,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}